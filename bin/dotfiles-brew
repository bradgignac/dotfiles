#! /usr/bin/env bash

log () {
  echo -e "\e[1m==> $@\e[0m"
}

TAPS="caskroom/cask caskroom/versions homebrew/versions thoughtbot/formulae"
FORMULAS="bash brew-cask bzr chruby cloc git go nodejs phantomjs python rcm ruby-install selecta ssh-copy-id the_silver_searcher tmux vim wrk zsh"
CASKS="atom cloudup flashlight google-chrome google-chrome-canary gpgtools heroku-toolbelt sauce spotify vagrant virtualbox xscope"

if command -v brew > /dev/null 2>&1; then
  log "Updating Homebrew..."
  brew update
else
  log "Installing Homebrew..."
  ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

log "Tapping additional repositories..."
for tap in $TAPS; do
  brew tap $tap
done

log "Installing formulas..."
brew install $FORMULAS

log "Installing casks..."
brew cask install $CASKS

brew cleanup
brew cask cleanup
